<!DOCTYPE html>
<html>
  <head>
    <title>Employee Management System</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <div class="container">
      <h1>Employee Management System</h1>
      <h3><a href="/employees/create" class="btn-success">Add New Employee</a></h3>
    
      <% if (employees && employees.length > 0) { %>
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Address</th>
              <th>Position</th>
              <th>Salary</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <% employees.forEach(function(employee) { %>
              <tr>
                <td><%= employee.name %></td>
                <td><%= employee.address %></td>
                <td><%= employee.position %></td>
                <td>$<%= employee.salary ? employee.salary.toLocaleString() : 'N/A' %>/year</td>
                <td class="actions">
                  <a href="/employees/show/<%= employee._id %>" class="view-btn">View</a>
                  <a href="/employees/edit/<%= employee._id %>" class="edit-btn">Edit</a>
                  <form style="display: inline;" action="/employees/delete/<%= employee._id %>" method="post">
                    <button type="submit" class="delete-btn" onclick="return confirm('Are you sure you want to delete this employee?')">Delete</button>
                  </form>
                </td>
              </tr>
            <% }); %>
          </tbody>
        </table>
      <% } else { %>
        <div class="message">
          <p>No employees found. <a href="/employees/create" class="btn-success">Create the first employee</a></p>
        </div>
      <% } %>
      
      <br>
      <h3><a href="/" class="btn-primary">Back to Home</a></h3>
    </div>
  </body>
</html>